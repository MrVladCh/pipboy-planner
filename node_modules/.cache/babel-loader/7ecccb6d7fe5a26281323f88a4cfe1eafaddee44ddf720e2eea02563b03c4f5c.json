{"ast":null,"code":"import _objectSpread from\"C:/Users/vlad/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/pipboy-pwa/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useEffect}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function loadFromStorage(key,fallback){try{const raw=localStorage.getItem(key);return raw?JSON.parse(raw):fallback;}catch(_unused){return fallback;}}function saveToStorage(key,data){localStorage.setItem(key,JSON.stringify(data));}export default function App(){const[quests,setQuests]=useState(()=>loadFromStorage(\"quests\",[]));const[newQuest,setNewQuest]=useState(\"\");useEffect(()=>{saveToStorage(\"quests\",quests);},[quests]);const addQuest=()=>{if(!newQuest.trim())return;setQuests([...quests,{title:newQuest,completed:false,expanded:false,subtasks:[],editing:false,priority:false,id:Date.now()}]);setNewQuest(\"\");};const updateQuest=(id,changes)=>{setQuests(quests.map(q=>q.id===id?_objectSpread(_objectSpread({},q),changes):q));};const deleteQuest=id=>setQuests(quests.filter(q=>q.id!==id));const addSubtask=(id,text)=>{setQuests(quests.map(q=>q.id===id?_objectSpread(_objectSpread({},q),{},{subtasks:[...q.subtasks,{text,done:false}]}):q));};const toggleSubtask=(qid,idx)=>{setQuests(quests.map(q=>q.id===qid?_objectSpread(_objectSpread({},q),{},{subtasks:q.subtasks.map((s,i)=>i===idx?_objectSpread(_objectSpread({},s),{},{done:!s.done}):s)}):q));};const sortedQuests=[...quests].sort((a,b)=>{if(a.priority===b.priority)return 0;return a.priority?-1:1;});let lastClickTime=0;const handleClick=quest=>{const now=Date.now();if(now-lastClickTime<300){updateQuest(quest.id,{completed:!quest.completed});}else{updateQuest(quest.id,{expanded:!quest.expanded});}lastClickTime=now;};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl mb-4 border-b border-green-400 pb-2\",children:\"Pip-Boy Quest Log\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newQuest,onChange:e=>setNewQuest(e.target.value),placeholder:\"Add new quest...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addQuest,className:\"ml-2\",children:\"ADD\"})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"ul\",{children:sortedQuests.map(quest=>/*#__PURE__*/_jsxs(\"li\",{className:\"mb-4 p-2 \"+(quest.priority?\"priority \":\"\")+(quest.completed?\"faded\":\"\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-1\",children:[quest.editing?/*#__PURE__*/_jsx(\"input\",{value:quest.title,onChange:e=>updateQuest(quest.id,{title:e.target.value}),onBlur:()=>updateQuest(quest.id,{editing:false}),autoFocus:true}):/*#__PURE__*/_jsx(\"span\",{onClick:()=>handleClick(quest),className:\"cursor-pointer\",children:quest.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-1 ml-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQuest(quest.id,{editing:!quest.editing}),children:\"EDIT\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQuest(quest.id,{priority:!quest.priority}),children:\"\\u2605\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteQuest(quest.id),children:\"DEL\"})]})]}),quest.expanded&&/*#__PURE__*/_jsxs(\"ul\",{className:\"ml-4 text-sm\",children:[quest.subtasks.map((s,i)=>/*#__PURE__*/_jsxs(\"li\",{onClick:()=>toggleSubtask(quest.id,i),className:\"cursor-pointer \"+(s.done?\"faded\":\"\"),children:[\"- \",s.text]},i)),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Add subtask\",onKeyDown:e=>{if(e.key===\"Enter\"&&e.target.value.trim()){addSubtask(quest.id,e.target.value.trim());e.target.value=\"\";}}})})]})]},quest.id))})]});}","map":{"version":3,"names":["useState","useEffect","jsx","_jsx","jsxs","_jsxs","loadFromStorage","key","fallback","raw","localStorage","getItem","JSON","parse","_unused","saveToStorage","data","setItem","stringify","App","quests","setQuests","newQuest","setNewQuest","addQuest","trim","title","completed","expanded","subtasks","editing","priority","id","Date","now","updateQuest","changes","map","q","_objectSpread","deleteQuest","filter","addSubtask","text","done","toggleSubtask","qid","idx","s","i","sortedQuests","sort","a","b","lastClickTime","handleClick","quest","children","className","type","value","onChange","e","target","placeholder","onClick","onBlur","autoFocus","onKeyDown"],"sources":["C:/Users/vlad/OneDrive/Рабочий стол/pipboy-pwa/src/App.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\n\nfunction loadFromStorage(key, fallback) {\n  try {\n    const raw = localStorage.getItem(key);\n    return raw ? JSON.parse(raw) : fallback;\n  } catch {\n    return fallback;\n  }\n}\n\nfunction saveToStorage(key, data) {\n  localStorage.setItem(key, JSON.stringify(data));\n}\n\nexport default function App() {\n  const [quests, setQuests] = useState(() => loadFromStorage(\"quests\", []));\n  const [newQuest, setNewQuest] = useState(\"\");\n\n  useEffect(() => {\n    saveToStorage(\"quests\", quests);\n  }, [quests]);\n\n  const addQuest = () => {\n    if (!newQuest.trim()) return;\n    setQuests([\n      ...quests,\n      {\n        title: newQuest,\n        completed: false,\n        expanded: false,\n        subtasks: [],\n        editing: false,\n        priority: false,\n        id: Date.now(),\n      },\n    ]);\n    setNewQuest(\"\");\n  };\n\n  const updateQuest = (id, changes) => {\n    setQuests(quests.map(q => q.id === id ? { ...q, ...changes } : q));\n  };\n\n  const deleteQuest = (id) => setQuests(quests.filter(q => q.id !== id));\n\n  const addSubtask = (id, text) => {\n    setQuests(quests.map(q => q.id === id\n      ? { ...q, subtasks: [...q.subtasks, { text, done: false }] }\n      : q\n    ));\n  };\n\n  const toggleSubtask = (qid, idx) => {\n    setQuests(quests.map(q => q.id === qid\n      ? {\n          ...q,\n          subtasks: q.subtasks.map((s, i) => i === idx ? { ...s, done: !s.done } : s)\n        }\n      : q\n    ));\n  };\n\n  const sortedQuests = [...quests].sort((a, b) => {\n    if (a.priority === b.priority) return 0;\n    return a.priority ? -1 : 1;\n  });\n\n  let lastClickTime = 0;\n\n  const handleClick = (quest) => {\n    const now = Date.now();\n    if (now - lastClickTime < 300) {\n      updateQuest(quest.id, { completed: !quest.completed });\n    } else {\n      updateQuest(quest.id, { expanded: !quest.expanded });\n    }\n    lastClickTime = now;\n  };\n\n  return (\n    <div>\n      <h1 className=\"text-3xl mb-4 border-b border-green-400 pb-2\">\n        Pip-Boy Quest Log\n      </h1>\n      <div className=\"mb-4\">\n        <input\n          type=\"text\"\n          value={newQuest}\n          onChange={(e) => setNewQuest(e.target.value)}\n          placeholder=\"Add new quest...\"\n        />\n        <button onClick={addQuest} className=\"ml-2\">ADD</button>\n      </div>\n      <hr />\n      <ul>\n        {sortedQuests.map((quest) => (\n          <li\n            key={quest.id}\n            className={\"mb-4 p-2 \" + (quest.priority ? \"priority \" : \"\") + (quest.completed ? \"faded\" : \"\")}\n          >\n            <div className=\"flex justify-between items-center mb-1\">\n              {quest.editing ? (\n                <input\n                  value={quest.title}\n                  onChange={(e) => updateQuest(quest.id, { title: e.target.value })}\n                  onBlur={() => updateQuest(quest.id, { editing: false })}\n                  autoFocus\n                />\n              ) : (\n                <span\n                  onClick={() => handleClick(quest)}\n                  className=\"cursor-pointer\"\n                >\n                  {quest.title}\n                </span>\n              )}\n              <div className=\"flex gap-1 ml-2\">\n                <button onClick={() => updateQuest(quest.id, { editing: !quest.editing })}>EDIT</button>\n                <button onClick={() => updateQuest(quest.id, { priority: !quest.priority })}>★</button>\n                <button onClick={() => deleteQuest(quest.id)}>DEL</button>\n              </div>\n            </div>\n\n            {quest.expanded && (\n              <ul className=\"ml-4 text-sm\">\n                {quest.subtasks.map((s, i) => (\n                  <li\n                    key={i}\n                    onClick={() => toggleSubtask(quest.id, i)}\n                    className={\"cursor-pointer \" + (s.done ? \"faded\" : \"\")}\n                  >\n                    - {s.text}\n                  </li>\n                ))}\n                <li>\n                  <input\n                    type=\"text\"\n                    placeholder=\"Add subtask\"\n                    onKeyDown={(e) => {\n                      if (e.key === \"Enter\" && e.target.value.trim()) {\n                        addSubtask(quest.id, e.target.value.trim());\n                        e.target.value = \"\";\n                      }\n                    }}\n                  />\n                </li>\n              </ul>\n            )}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}